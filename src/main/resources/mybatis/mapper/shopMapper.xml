<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pg.flex.dao.shop.ShopDao">

  <resultMap id="ProductResultMap" type="com.pg.flex.dto.Product">
    <result column="product_index" property="productIndex" />
    <result column="product_name" property="productName" />
    <result column="product_branc" property="productBranc" />
    <result column="product_price" property="productPrice" />
    <result column="category_name" property="categoryName" />
  </resultMap>

  <select id="getProducts" resultMap="ProductResultMap">
    SELECT
      p.product_index,
      p.product_name,
      p.product_branc,
      p.product_price,
      c.category_name
    FROM
      product AS p
    INNER JOIN
      category AS c
    ON
      p.category_index = c.category_index
    LIMIT 4 OFFSET 0
  </select>
</mapper>